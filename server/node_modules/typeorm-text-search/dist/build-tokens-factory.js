"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildTokensFactory = void 0;
exports.buildTokensFactory = (tokens, fields) => {
    return (qb) => {
        fields.forEach((field) => {
            tokens.forEach((token, index) => {
                qb.orWhere(`LOWER(${field}) LIKE :search_${index}`, {
                    [`search_${index}`]: `%${token.toLowerCase()}%`,
                });
            });
        });
    };
};
